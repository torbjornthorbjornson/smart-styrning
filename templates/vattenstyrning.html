<{% extends "base.html" %}

{% block title %}Vattenstyrning{% endblock %}

{% block head %}
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 2em;
        background-color: #f3faff;
    }
    h1 {
        text-align: center;
    }
    .container {
        display: flex;
        justify-content: center;
        align-items: flex-end;
        gap: 4em;
        margin-top: 2em;
    }
    .bassang {
        background: linear-gradient(to top, #00bfff, #ffffff);
        border: 2px solid #007acc;
        height: 300px;
        width: 400px;
        position: relative;
        border-radius: 10px;
    }
    .vattenniv친 {
        position: absolute;
        bottom: 0;
        width: 100%;
        background-color: #00bfff;
        transition: height 0.5s;
        border-bottom-left-radius: 8px;
        border-bottom-right-radius: 8px;
    }
    .etikett {
        text-align: center;
        margin-top: 0.5em;
        font-weight: bold;
    }
    .pump-card {
        border: 1px solid #7e57c2;
        width: 180px;
        text-align: center;
        padding: 1em;
        background-color: #f0e8ff;
        border-radius: 10px;
    }
    .manometer {
        width: 180px;
        height: 180px;
    }
    .needle {
        transform-origin: 50% 50%;
        transition: transform 0.5s ease-out;
    }
</style>
{% endblock %}

{% block content %}

<h1>游눥 Vattenstyrning Ragnars Hage</h1>

<div class="container">
    <div>
        <div class="bassang">
            <div class="vattenniv친" style="height: {{ data['niv친_procent']|default(0) }}%;"></div>
        </div>
        <div class="etikett">Bass칛ngniv친: {{ data['niv친']|default(0) }} liter</div>
    </div>
    <div style="text-align: center;">
        <svg class="manometer" viewBox="0 0 100 100" data-tryck="{{ data['tryck']|default(0) }}">
            <circle cx="50" cy="50" r="45" stroke="#333" stroke-width="4" fill="white"/>
            <text x="50" y="88" font-size="8" text-anchor="middle">bar</text>

            {% for i in range(0, 11) %}
            {% set angle = 225 - (i / 10) * 270 %}
            {% set rad = angle * 3.14159 / 180 %}
            <line 
                x1="{{ 50 + 38 * cos(rad)*
