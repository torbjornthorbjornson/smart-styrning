# Smart styrning â€“ Strategi & Dokumentation

## ğŸ“‚ Projektstruktur
**Huvudmapp:** `~/smartweb/tools/arrigo`

**Viktiga filer:**
- `push_from_db.py` â€“ huvudskript fÃ¶r att hÃ¤mta priser frÃ¥n DB, bygga rank-array, och pusha till Arrigo.
- `logs/arrigo_push.log` â€“ loggfil fÃ¶r push-jobben.
- `exo_price_rank*.py` â€“ Ã¤ldre skript, inte lÃ¤ngre i aktiv anvÃ¤ndning.
- `push_by_index.py`, `push_index_min.py`, `push_index_prod.py` â€“ test- och varianter, behÃ¥ll som referens.

**BehÃ¥ll:**
- `push_from_db.py`
- `logs/`
- en referenskopia av `exo_price_rank_idx.py`

**Kan rensas:**
- gamla `push_prices*.sh`
- alla `.bak/.save/.trash`

---

## âš™ï¸ Systemd & timers
**Service-template:**  
`/etc/systemd/system/arrigo-push@.service`
- KÃ¶r `push_from_db.py`
- Laddar `/home/runerova/.arrigo.env`

**Timers:**
- `/etc/systemd/system/arrigo-push@today.timer` â€“ kÃ¶r 00â€“12 varje timme
- `/etc/systemd/system/arrigo-push@tomorrow.timer` â€“ kÃ¶r 13â€“23 varje timme

**Kontroll:**
```bash
systemctl list-timers --all | grep arrigo-push
journalctl -u arrigo-push@today.service -n 50 --no-pager
